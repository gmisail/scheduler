---
import Layout from "../../layouts/Layout.astro";
import ScheduleView from "../../components/schedule/Schedule.svelte";

import { fetchCatalog, fetchDepartments, fetchTerms } from "@lib/api";
import type { Term } from "@lib/term";

export async function getStaticPaths() {
    const terms: Term[] = await fetchTerms();

    return terms.map((term) => ({
        params: { term: term.id },
        props: { term, terms },
    }));
}

const { term, terms } = Astro.props;
---

<Layout terms={terms} term={term}>
    <ScheduleView client:only="svelte" term={term} />
</Layout>
